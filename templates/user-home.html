{% extends 'base.html' %}
{% block content %}


 <!-- /////////////////// DISPLAY FOOD IN REFRIGERATOR///////////////////// -->
      
      Welcome, {{ user_name }}!

      <br>Food available in your refrigerator:
      <br><br>

      <div id='display-food'>

        {% for item in user_refrigerator %}
        <div id='fooddiv'>

          {{ item.food.food }}<br>
          
          <img src="https://spoonacular.com/cdn/ingredients_100x100/{{ item.food.food }}.jpg" alt"food-img" style="width:75px;height:75px;" />
          <br>
          
          Qty: {{ item.food.quantity }} <br>

          <form id='add-quantity-form' class="inline">
          <p hidden id="add-btn-{{ loop.index }}">{{ item.food.food_id }}</p> 
          <button type='button' id="add-btn-{{ loop.index }}" value='+' onClick="addQuantity(this)">+</button>
          </form>

          <form id='subtract-quantity-form' class="inline">
          <p hidden id="sub-btn-{{ loop.index }}">{{ item.food.food_id }}</p> 
          
          <button type='button' id="sub-btn-{{ loop.index }}" value='-' onClick="subQuantity(this)">-</button>
          
          </form>

          <br><br>

        </div>

        {% endfor %}


      </div>

        <!-- load JS  -->
        <script type=text/javascript src="{{
          url_for('static', filename='add-quantity.js') }}"></script>

        <script type=text/javascript src="{{
          url_for('static', filename='sub-quantity.js') }}"></script>

<br><br>
<!-- ////////////////////ADD FOOD TO REFRIDGERATOR ///////////////////////// -->
        <div id='add-food'>


<!-- http://blog.teamtreehouse.com/creating-autocomplete-dropdowns-datalist-element -->
<!-- datalist autocomplete dropdown -->

          <datalist id="foods">
            <option value="apple">            
            <option value="asparagus">
            <option value="bananas">
            <option value="butter">
            <option value="cauliflower">
            <option value="celery">
            <option value="cherries">
            <option value="egg">
            <option value="guava">
            <option value="lemons"> 
            <option value="mango">
            <option value="mushrooms">          
            <option value="milk">                                  
            <option value="orange">
            <option value="salmon">
            <option value="spinach">
            <option value="strawberries">

          </datalist>


          <form id='add-food-form' >
<!--           Add 
          <select id='food_type' name="food_type">
            <option value="p">protein</option>
            <option value="v">vegetables</option>
            <option value="f">fruits</option>
            <option value="d">dairy</option>
            <option value="g">grains</option>
          </select> 
          to fridge:<br> -->

            Ingredient: <input type="text" id='ingredient' name="ingredient" list="foods"><br>
            Quantity: <input type="text" id='quantity' name="quantity"><br>
          <!--   Expires on:<input type="text" name="expiration"> -->

            <input type='submit' value='add'>
          </form>
        </div>  

        <!-- load JS  -->

        <script type=text/javascript src="{{
          url_for('static', filename='add-food.js') }}"></script>

        <br><br>


<!-- //////////////////REMOVE FOOD TO REFRIDGERATOR /////////////////////// -->

        <div id='remove-food'>

          Remove ingredient from fridge:<br>
          <form id='remove-food-form'>

           <div id='rmfood'>
            <select id="rm-ingredient" name="rm-ingredient">
              {% for item in user_refrigerator %}
                  <!-- item object of food, at food name -->
                  <option value="{{item.food.food_id}} {{item.food.food}}">{{ item.food.food }}</option>
              {% endfor %}
              &nbsp;
            </select>
              </div>

            <input type='submit' value='remove'>
            
          </form>
      </div>   

        <script type=text/javascript src="{{
          url_for('static', filename='remove-food.js') }}"></script>

        <br><br>

 <!-- ////////////////////////DISPLAY RECIPES ///////////////////////////// -->

        <div id="display-recipes">

          <script type=text/javascript src="{{
            url_for('static', filename='display-recipes.js') }}"></script>

        </div>





<a href='/logout'>Log Out</a> 



{% endblock %}
