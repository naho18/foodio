{% extends 'base.html' %}
{% block content %}


 <!-- /////////////////// DISPLAY FOOD IN REFRIGERATOR///////////////////// -->
      
      Welcome, {{ user_name }}!

      <br>Food available in your refrigerator:
      <br><br>

      <div id='display-food'>

        {% for item in user_refrigerator %}
        <div id='fooddiv'>

          <!-- food name, image, quantity -->
          {{ item.food.food }} <br>
          <img src="https://spoonacular.com/cdn/ingredients_100x100/{{ item.food.food }}.jpg" alt"food-img" style="width:75px;height:75px;" />
          <br>Qty: {{ item.food.quantity }} <br>

          <!-- add button -->
          <form id='add-quantity-form' class="inline">
          <p hidden id="add-btn-{{ loop.index }}">{{ item.food.food_id }}</p> 
          <button type='button' id="add-btn-{{ loop.index }}" value='+' onClick="addQuantity(this)">+</button>
          </form>

          <!-- subtract button -->
          <form id='subtract-quantity-form' class="inline">
          <p hidden id="sub-btn-{{ loop.index }}">{{ item.food.food_id }}</p> 
          <button type='button' id="sub-btn-{{ loop.index }}" value='-' onClick="subQuantity(this)">-</button>
          </form>

          <br><br>

        </div>

        {% endfor %}

      </div>


        <!-- load JS  -->
        <script type=text/javascript src="{{
          url_for('static', filename='add-quantity.js') }}"></script>

        <script type=text/javascript src="{{
          url_for('static', filename='sub-quantity.js') }}"></script>

<br><br>
<!-- ////////////////////ADD FOOD TO REFRIDGERATOR ///////////////////////// -->
        <div id='add-food'>


<!-- http://blog.teamtreehouse.com/creating-autocomplete-dropdowns-datalist-element -->
<!-- datalist autocomplete dropdown -->

          <datalist id="foods">

            {% for food in food_list %}
              <option value="{{ food }}">  
            {% endfor %}

          </datalist>

<!--             <option value="asparagus">
            <option value="bananas">
            <option value="butter">
            <option value="cauliflower">
            <option value="celery">
            <option value="cherries">
            <option value="egg">
            <option value="guava">
            <option value="lemons"> 
            <option value="mango">
            <option value="mushrooms">          
            <option value="milk">                                  
            <option value="orange">
            <option value="salmon">
            <option value="spinach">
            <option value="strawberries"> -->



          <form id='add-food-form' >

          Add to fridge:<br>

            Ingredient: <input type="text" id='ingredient' name="ingredient" list="foods"><br>
            Quantity: <input type="text" id='quantity' name="quantity"><br>
          <!--   Expires on:<input type="text" name="expiration"> -->
            <input type='submit' value='add'>
            <input type="reset" value="reset">
          </form>
        </div>  

        <!-- load JS  -->

        <script type=text/javascript src="{{
          url_for('static', filename='add-food.js') }}"></script>

        <br><br>


<!-- //////////////////REMOVE FOOD TO REFRIDGERATOR /////////////////////// -->

        <div id='remove-food'>

          <form id='remove-food-form'>
          Remove from fridge:<br>
           <div id='rmfood'>
            <select id="rm-ingredient" name="rm-ingredient">
              {% for item in user_refrigerator %}
                  <!-- item object of food, at food name -->
                  <option value="{{item.food.food_id}} {{item.food.food}}">{{ item.food.food }}</option>
              {% endfor %}
              &nbsp;
            </select>
              </div>

            <input type='submit' value='remove'>
            
          </form>
      </div>   

        <script type=text/javascript src="{{
          url_for('static', filename='remove-food.js') }}"></script>

        <br><br>

 <!-- ////////////////////////DISPLAY RECIPES ///////////////////////////// -->

        <div id="display-recipes">

        </div>

      <!-- load js -->
          <script type=text/javascript src="{{
            url_for('static', filename='display-recipes.js') }}"></script>
      <br><br><br>

 <!-- /////////////////////DISPLAY FAVORITE RECIPES //////////////////////// -->

        <div id="display-favs">
          <h2>Favorite Recipes</h2>

            {% for item in fav_recipes %}

            <div id='favdiv'>

            {{ item.title }} <br>
            <a href="{{ item.url }}">
            <img src="{{ item.img}}" alt="Image"></a>

            <br>
            <!-- Delete button goes here -->
            <form id='delete-fav' class="inline">
            <button type='button' id="del-btn-{{ loop.index }}" value="{{ item.title }}" onClick="delRecipe(this)">delete</button>
            </form>
            <br><br>

            </div>
            {% endfor %}

        </div>

        <!-- load js -->
          <script type=text/javascript src="{{
            url_for('static', filename='del-fav.js') }}"></script>
<br><br><br>




<a href='/logout'>Log Out</a> 



{% endblock %}
